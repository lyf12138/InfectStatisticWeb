<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataIn</title>
    <script src="http://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
    <!-- 变量名 注释
    latest 1：返回最新数据（默认）
    0：返回时间序列数据
    返回数据
    变量名 注释
    generalRemark 全国疫情信息概览
    remarkX 注释内容，X为1~5
    note1 病毒名称
    note2 传染源
    note3 传播途径
    currentConfirmedCount(Incr) 现存确诊人数（较昨日增加数量）
    值为confirmedCount(Incr) - curedCount(Incr) - deadCount(Incr)
    confirmedCount(Incr) 累计确诊人数（较昨日增加数量）
    suspectedCount(Incr) 疑似感染人数（较昨日增加数量）
    curedCount(Incr) 治愈人数（较昨日增加数量）
    deadCount(Incr) 死亡人数（较昨日增加数量）
    seriousCount(Incr) 重症病例人数（较昨日增加数量）
    updateTime 数据最后变动时间 -->

</head>

<body>
    <script>
        var DATA;
        function GET_latestData(i) {
            $.ajax({
                async: false,
                type: 'get',
                url: 'https://lab.isaaclin.cn/nCoV/api/overall',
                dataType: 'json',
                data: {
                    latest: i,
                },
                error: function (XmlHttpRequest, textStatus, errorThrown) {
                    alert("操作失败!");
                },
                success: function (result) {
                    DATA = result.results;
                    console.log(DATA);
                }
            });
        }
        function latestData() {
            GET_latestData(0);
            var data=DATA[0];
            var Data = {
                currentConfirmed: {//现存确诊人数
                    count: data.currentConfirmedCount,
                    Incr: data.currentConfirmedIncr
                },
                confrimed: {//累计确诊人数
                    count: data.confirmedCount,
                    Incr: data.confirmedIncr
                },
                cured: {//治愈人数
                    count: data.curedCount,
                    Incr: data.curedIncr
                },
                dead: {//死亡人数
                    count: data.deadCount,
                    Incr: data.deadIncr
                },
                serious: {//重症病例人数
                    count: data.seriousCount,
                    Incr: data.seriousIncr
                },
                suspected: {//疑似病例人数
                    count: data.suspectedCount,
                    Incr: data.suspectedIncr
                }
            };
            return Data;
        }
        var D = latestData();
        console.log("疫情数据：");
        console.log("累计确诊人数：" + D.confrimed.count);
        console.log("较昨增加：" + D.confrimed.Incr);
        console.log("现存确诊人数" + D.currentConfirmed.count);
        console.log("较昨增加：" + D.currentConfirmed.Incr);
        console.log("死亡人数：" + D.dead.count);
        console.log("较昨增加：" + D.dead.Incr);
        console.log("治愈人数：" + D.cured.count);
        console.log("较昨增加：" + D.cured.Incr);
        console.log("重症病例人数：" + D.serious.count);
        console.log("较昨增加：" + D.serious.Incr);
        console.log("疑似病例人数：" + D.suspected.count);
        console.log("较昨增加：" + D.suspected.Incr);
    </script>
</body>

</html>